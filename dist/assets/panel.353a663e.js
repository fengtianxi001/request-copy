import"./modulepreload-polyfill.c7c6310f.js";import{o as _,c as v,a as c,d as O,b as S,e as o,w as p,u as r,B as b,I as D,f as L,g as x,R as k,h as A,r as F,i as R,j as B,v as h,k as j,t as I,M as T,E as V,F as H,l as M,m as $,n as U,p as N,T as z,q as P}from"./vendor.45ce9671.js";const f=(i,u)=>{const t=i.__vccOpts||i;for(const[n,l]of u)t[n]=l;return t},J={},X={class:"layout-brand"};function G(i,u){return _(),v("div",X,[...u[0]||(u[0]=[c("div",{class:"layout-brand-logo"},"R",-1),c("div",{class:"layout-brand-info"},[c("div",{class:"layout-brand-title"},"Request Copy"),c("div",{class:"layout-brand-version"},"v1.0.0")],-1)])])}const W=f(J,[["render",G],["__scopeId","data-v-4ec73b30"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestBrand.vue"]]);const K={class:"request-filters"},Q={class:"request-filters-list"},Y={class:"request-filters-input"},Z=O({__name:"RequestFilters",props:{filters:Object},emits:["update:filters","clear","setting"],setup(i,{emit:u}){const t=i,n=u,l=S({get:()=>t.filters,set:a=>n("update:filters",a)});return(a,s)=>(_(),v("div",K,[c("div",Q,[o(r(b),{type:"primary",size:"mini",onClick:s[0]||(s[0]=e=>n("setting"))},{icon:p(()=>[o(r(L))]),_:1}),o(r(b),{type:"primary",status:"danger",size:"mini",onClick:s[1]||(s[1]=e=>n("clear"))},{default:p(()=>[...s[4]||(s[4]=[x(" \u6E05\u7A7A ",-1)])]),_:1}),o(r(A),{modelValue:l.value.type,"onUpdate:modelValue":s[2]||(s[2]=e=>l.value.type=e),type:"button",size:"mini"},{default:p(()=>[o(r(k),{value:"all"},{default:p(()=>[...s[5]||(s[5]=[x("All",-1)])]),_:1}),o(r(k),{value:"xhr"},{default:p(()=>[...s[6]||(s[6]=[x("XHR",-1)])]),_:1}),o(r(k),{value:"static"},{default:p(()=>[...s[7]||(s[7]=[x("\u9759\u6001\u8D44\u6E90",-1)])]),_:1})]),_:1},8,["modelValue"])]),c("div",Y,[o(r(D),{modelValue:l.value.url,"onUpdate:modelValue":s[3]||(s[3]=e=>l.value.url=e),size:"mini",placeholder:"\u8DEF\u5F84\u8FC7\u6EE4","allow-clear":""},null,8,["modelValue"])])]))}}),ee=f(Z,[["__scopeId","data-v-56e8929c"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestFilters.vue"]]);const te={class:"request-item"},se={class:"request-item-header"},ne={class:"request-item-url"},oe={class:"request-item-body"},le={__name:"RequestItem",props:{item:Object},setup(i){const u=i,t=F({expand:!1}),n={onToggleExpand(){t.expand=!t.expand},onFormatUrl(l){const a=new URL(l);return console.log("_url",a),a.pathname},onCopy(){const l=document.createElement("textarea");l.value=JSON.stringify(u.item,null,2),document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l),T.success("\u590D\u5236\u6210\u529F")}};return(l,a)=>(_(),v("div",te,[c("div",se,[o(r(b),{size:"mini",onClick:n.onToggleExpand},{icon:p(()=>[R(o(r(B),null,null,512),[[h,!t.expand]]),R(o(r(j),null,null,512),[[h,t.expand]])]),_:1},8,["onClick"]),c("div",ne,I(n.onFormatUrl(i.item.url)),1),o(r(b),{size:"mini",type:"primary",onClick:n.onCopy},{default:p(()=>[...a[0]||(a[0]=[x("\u590D\u5236",-1)])]),_:1},8,["onClick"])]),R(c("div",oe,[c("pre",null,I(JSON.stringify(i.item,null,2)),1)],512),[[h,t.expand]])]))}},ae=f(le,[["__scopeId","data-v-5a7f617c"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestItem.vue"]]);const re={class:"request-list"},ie={__name:"RequestList",props:{list:Object},setup(i){return(u,t)=>(_(),v("div",re,[R(o(r(V),{class:"request-list-empty"},null,512),[[h,i.list.length===0]]),(_(!0),v(H,null,M(i.list,n=>(_(),$(ae,{item:n},null,8,["item"]))),256))]))}},ue=f(ie,[["__scopeId","data-v-46747166"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestList.vue"]]),de=O({__name:"RequestSettingModal",setup(i,{expose:u}){const t=U(!1),n={onOpen(){t.value=!0},onClose(){t.value=!1}};return u({onOpen:n.onOpen,onClose:n.onClose}),(l,a)=>(_(),$(r(N),{width:300,visible:t.value,"onUpdate:visible":a[0]||(a[0]=s=>t.value=s),title:"\u8BBE\u7F6E"},{default:p(()=>[o(r(z))]),_:1},8,["visible"]))}}),ce=f(de,[["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestSettingModal.vue"]]);const pe={class:"layout"},_e={__name:"App",setup(i){const u=U(null),t=F({url:"",type:"all"}),n=U([]),l=S(()=>{let e=[...n.value];return t.type!=="all"&&(e=e.filter(d=>d.type===t.type)),e.filter(d=>d.url.includes(t.url))}),a={onClear(){n.value=[]},onAddListener(){chrome.devtools.network.onRequestFinished.addListener(e=>{e.request.method.toUpperCase()!=="OPTIONS"&&e.getContent(d=>{var w;const g=s.parseHandler(d),q=s.parseHandler(((w=e.request.postData)==null?void 0:w.text)||""),y={};e.request.headers.forEach(E=>{y[E.name]=E.value});const m=s.typeHandler(e),C={url:e.request.url,method:e.request.method,headers:y,payload:q,response:g,type:m};n.value.unshift(C)})})},onSetting(){console.log("modal",u.value.onOpen())}},s={typeHandler(e){var y;const d=e.request.url.split("?")[0].toLowerCase();if([".png",".jpg",".jpeg",".gif",".webp",".svg",".mp4",".mp3",".wav",".js",".css",".html",".htm",".ico",".woff",".woff2",".ttf",".eot"].some(m=>d.endsWith(m)))return"static";const q=e.request.headers.reduce((m,C)=>(m[C.name.toLowerCase()]=C.value,m),{});return((y=q["content-type"])==null?void 0:y.includes("application/json"))||q["x-requested-with"]==="XMLHttpRequest"||["POST","PUT","PATCH"].includes(e.request.method.toUpperCase()),"xhr"},parseHandler(e){if(!e)return"";try{return JSON.parse(e)}catch{return e}}};return a.onAddListener(),(e,d)=>(_(),v("div",pe,[o(W),o(ee,{filters:t,"onUpdate:filters":d[0]||(d[0]=g=>t=g),onClear:a.onClear,onSetting:a.onSetting},null,8,["filters","onClear","onSetting"]),o(ue,{list:l.value},null,8,["list"]),o(ce,{ref_key:"modal",ref:u},null,512)]))}},me=f(_e,[["__scopeId","data-v-7ba5bd90"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/App.vue"]]);const ve=P(me);ve.mount("#app");
