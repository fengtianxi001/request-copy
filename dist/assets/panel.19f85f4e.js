import"./modulepreload-polyfill.c7c6310f.js";import{o as _,c as v,a as d,d as I,b as O,e as l,w as c,u as r,B as h,I as D,f as $,g,R as U,h as L,r as B,i as C,j as V,v as R,k as j,t as E,M as A,E as H,F as T,l as z,m as F,n as k,p as M,T as N,q as P}from"./vendor.45ce9671.js";const f=(u,i)=>{const s=u.__vccOpts||u;for(const[n,o]of i)s[n]=o;return s},J={},X={class:"layout-brand"};function G(u,i){return _(),v("div",X,[...i[0]||(i[0]=[d("div",{class:"layout-brand-logo"},"R",-1),d("div",{class:"layout-brand-info"},[d("div",{class:"layout-brand-title"},"Request Copy"),d("div",{class:"layout-brand-version"},"v1.0.0")],-1)])])}const W=f(J,[["render",G],["__scopeId","data-v-4ec73b30"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestBrand.vue"]]);const K={class:"request-filters"},Q={class:"request-filters-list"},Y={class:"request-filters-input"},Z=I({__name:"RequestFilters",props:{filters:Object},emits:["update:filters","clear","setting"],setup(u,{emit:i}){const s=u,n=i,o=O({get:()=>s.filters,set:a=>n("update:filters",a)});return(a,t)=>(_(),v("div",K,[d("div",Q,[l(r(h),{type:"primary",size:"mini",onClick:t[0]||(t[0]=e=>n("setting"))},{icon:c(()=>[l(r($))]),_:1}),l(r(h),{type:"primary",status:"danger",size:"mini",onClick:t[1]||(t[1]=e=>n("clear"))},{default:c(()=>[...t[4]||(t[4]=[g(" \u6E05\u7A7A ",-1)])]),_:1}),l(r(L),{modelValue:o.value.type,"onUpdate:modelValue":t[2]||(t[2]=e=>o.value.type=e),type:"button",size:"mini"},{default:c(()=>[l(r(U),{value:"all"},{default:c(()=>[...t[5]||(t[5]=[g("All",-1)])]),_:1}),l(r(U),{value:"xhr"},{default:c(()=>[...t[6]||(t[6]=[g("XHR",-1)])]),_:1}),l(r(U),{value:"static"},{default:c(()=>[...t[7]||(t[7]=[g("\u9759\u6001\u8D44\u6E90",-1)])]),_:1})]),_:1},8,["modelValue"])]),d("div",Y,[l(r(D),{modelValue:o.value.url,"onUpdate:modelValue":t[3]||(t[3]=e=>o.value.url=e),size:"mini",placeholder:"\u8DEF\u5F84\u8FC7\u6EE4","allow-clear":""},null,8,["modelValue"])])]))}}),ee=f(Z,[["__scopeId","data-v-56e8929c"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestFilters.vue"]]);const te={class:"request-item"},se={class:"request-item-header"},ne={class:"request-item-url"},oe={class:"request-item-body"},le={__name:"RequestItem",props:{item:Object},setup(u){const i=u,s=B({expand:!1}),n={onToggleExpand(){s.expand=!s.expand},onFormatUrl(o){const a=new URL(o);return console.log("_url",a),a.pathname},onCopy(){const o=document.createElement("textarea");o.value=JSON.stringify(i.item,null,2),document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),A.success("\u590D\u5236\u6210\u529F")}};return(o,a)=>(_(),v("div",te,[d("div",se,[l(r(h),{size:"mini",onClick:n.onToggleExpand},{icon:c(()=>[C(l(r(V),null,null,512),[[R,!s.expand]]),C(l(r(j),null,null,512),[[R,s.expand]])]),_:1},8,["onClick"]),d("div",ne,E(n.onFormatUrl(u.item.url)),1),l(r(h),{size:"mini",type:"primary",onClick:n.onCopy},{default:c(()=>[...a[0]||(a[0]=[g("\u590D\u5236",-1)])]),_:1},8,["onClick"])]),C(d("div",oe,[d("pre",null,E(JSON.stringify(u.item,null,2)),1)],512),[[R,s.expand]])]))}},ae=f(le,[["__scopeId","data-v-5a7f617c"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestItem.vue"]]);const re={class:"request-list"},ue={__name:"RequestList",props:{list:Object},setup(u){return(i,s)=>(_(),v("div",re,[C(l(r(H),{class:"request-list-empty"},null,512),[[R,u.list.length===0]]),(_(!0),v(T,null,z(u.list,n=>(_(),F(ae,{item:n},null,8,["item"]))),256))]))}},ie=f(ue,[["__scopeId","data-v-46747166"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestList.vue"]]),de=I({__name:"RequestSettingModal",setup(u,{expose:i}){const s=k(!1),n=k(""),o={onOpen(){s.value=!0,n.value=settings.value.headers.split(",").join(`
`)},onClose(){s.value=!1},onSubmit(){const t=n.value.split(`
`).map(e=>e.trim()).join(",");settings.value.headers=t}};return i({onOpen:o.onOpen,onClose:o.onClose}),(a,t)=>(_(),F(r(M),{width:300,visible:s.value,"onUpdate:visible":t[1]||(t[1]=e=>s.value=e),title:"\u8BBE\u7F6E","body-style":"padding:10px","on-before-ok":a.onSubmit},{default:c(()=>[t[2]||(t[2]=d("div",{style:{color:"#005af9","margin-bottom":"5px"}}," \u590D\u5236\u65F6\u9700\u8981\u6392\u9664\u7684Header\u5B57\u6BB5 ",-1)),l(r(N),{style:{height:"300px"},size:"small",modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e)},null,8,["modelValue"])]),_:1},8,["visible","on-before-ok"]))}}),pe=f(de,[["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestSettingModal.vue"]]);const ce={class:"layout"},_e={__name:"App",setup(u){const i=k(null),s=B({url:"",type:"all"}),n=k([]),o=O(()=>{let e=[...n.value];return s.type!=="all"&&(e=e.filter(p=>p.type===s.type)),e.filter(p=>p.url.includes(s.url))}),a={onClear(){n.value=[]},onAddListener(){chrome.devtools.network.onRequestFinished.addListener(e=>{e.request.method.toUpperCase()!=="OPTIONS"&&e.getContent(p=>{var S;const x=t.parseHandler(p),q=t.parseHandler(((S=e.request.postData)==null?void 0:S.text)||""),y={};e.request.headers.forEach(w=>{y[w.name]=w.value});const m=t.typeHandler(e),b={url:e.request.url,method:e.request.method,headers:y,payload:q,response:x,type:m};n.value.unshift(b)})})},onSetting(){console.log("modal",i.value.onOpen())}},t={typeHandler(e){var y;const p=e.request.url.split("?")[0].toLowerCase();if([".png",".jpg",".jpeg",".gif",".webp",".svg",".mp4",".mp3",".wav",".js",".css",".html",".htm",".ico",".woff",".woff2",".ttf",".eot"].some(m=>p.endsWith(m)))return"static";const q=e.request.headers.reduce((m,b)=>(m[b.name.toLowerCase()]=b.value,m),{});return((y=q["content-type"])==null?void 0:y.includes("application/json"))||q["x-requested-with"]==="XMLHttpRequest"||["POST","PUT","PATCH"].includes(e.request.method.toUpperCase()),"xhr"},parseHandler(e){if(!e)return"";try{return JSON.parse(e)}catch{return e}}};return a.onAddListener(),(e,p)=>(_(),v("div",ce,[l(W),l(ee,{filters:s,"onUpdate:filters":p[0]||(p[0]=x=>s=x),onClear:a.onClear,onSetting:a.onSetting},null,8,["filters","onClear","onSetting"]),l(ie,{list:o.value},null,8,["list"]),l(pe,{ref_key:"modal",ref:i},null,512)]))}},me=f(_e,[["__scopeId","data-v-7ba5bd90"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/App.vue"]]);const ve=P(me);ve.mount("#app");
