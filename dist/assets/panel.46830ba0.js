import"./modulepreload-polyfill.c7c6310f.js";import{o as p,c as m,a as d,d as F,b as U,e as n,w as c,u as i,B as R,I as L,f as $,g as f,R as b,h as A,r as E,i as h,j as D,v as C,k as O,t as I,M as j,E as B,F as V,l as H,m as S,n as N,p as T}from"./vendor.e86b02d8.js";const y=(l,o)=>{const r=l.__vccOpts||l;for(const[a,t]of o)r[a]=t;return r},z={},P={class:"layout-brand"};function J(l,o){return p(),m("div",P,[...o[0]||(o[0]=[d("div",{class:"layout-brand-logo"},"R",-1),d("div",{class:"layout-brand-info"},[d("div",{class:"layout-brand-title"},"Request Copy"),d("div",{class:"layout-brand-version"},"v1.0.0")],-1)])])}const M=y(z,[["render",J],["__scopeId","data-v-4ec73b30"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestBrand.vue"]]);const X={class:"request-filters"},G={class:"request-filters-list"},W={class:"request-filters-input"},K=F({__name:"RequestFilters",props:{filters:Object},emits:["update:filters","clear","setting"],setup(l,{emit:o}){const r=l,a=o,t=U({get:()=>r.filters,set:u=>a("update:filters",u)});return(u,e)=>(p(),m("div",X,[d("div",G,[n(i(R),{type:"primary",size:"mini",onClick:e[0]||(e[0]=s=>a("setting"))},{icon:c(()=>[n(i($))]),_:1}),n(i(R),{type:"primary",size:"mini",onClick:e[1]||(e[1]=s=>a("clear"))},{default:c(()=>[...e[4]||(e[4]=[f("\u6E05\u7A7A\u6240\u6709",-1)])]),_:1}),n(i(A),{modelValue:t.value.type,"onUpdate:modelValue":e[2]||(e[2]=s=>t.value.type=s),type:"button",size:"mini"},{default:c(()=>[n(i(b),{value:"all"},{default:c(()=>[...e[5]||(e[5]=[f("All",-1)])]),_:1}),n(i(b),{value:"xhr"},{default:c(()=>[...e[6]||(e[6]=[f("XHR",-1)])]),_:1}),n(i(b),{value:"static"},{default:c(()=>[...e[7]||(e[7]=[f("\u9759\u6001\u8D44\u6E90",-1)])]),_:1})]),_:1},8,["modelValue"])]),d("div",W,[n(i(L),{modelValue:t.value.url,"onUpdate:modelValue":e[3]||(e[3]=s=>t.value.url=s),size:"mini",placeholder:"\u8DEF\u5F84\u8FC7\u6EE4","allow-clear":""},null,8,["modelValue"])])]))}}),Q=y(K,[["__scopeId","data-v-56e8929c"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestFilters.vue"]]);const Y={class:"request-item"},Z={class:"request-item-header"},ee={class:"request-item-url"},te={class:"request-item-body"},se={__name:"RequestItem",props:{item:Object},setup(l){const o=l,r=E({expand:!1}),a={onToggleExpand(){r.expand=!r.expand},onFormatUrl(t){const u=new URL(t);return console.log("_url",u),u.pathname},onCopy(){const t=document.createElement("textarea");t.value=JSON.stringify(o.item,null,2),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),j.success("\u590D\u5236\u6210\u529F")}};return(t,u)=>(p(),m("div",Y,[d("div",Z,[n(i(R),{size:"mini",onClick:a.onToggleExpand},{icon:c(()=>[h(n(i(D),null,null,512),[[C,!r.expand]]),h(n(i(O),null,null,512),[[C,r.expand]])]),_:1},8,["onClick"]),d("div",ee,I(a.onFormatUrl(l.item.url)),1),n(i(R),{size:"mini",type:"primary",onClick:a.onCopy},{default:c(()=>[...u[0]||(u[0]=[f("\u590D\u5236",-1)])]),_:1},8,["onClick"])]),h(d("div",te,[d("pre",null,I(JSON.stringify(l.item,null,2)),1)],512),[[C,r.expand]])]))}},ne=y(se,[["__scopeId","data-v-5a7f617c"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestItem.vue"]]);const oe={class:"request-list"},re={__name:"RequestList",props:{list:Object},setup(l){return(o,r)=>(p(),m("div",oe,[h(n(i(B),{class:"request-list-empty"},null,512),[[C,l.list.length===0]]),(p(!0),m(V,null,H(l.list,a=>(p(),S(ne,{item:a},null,8,["item"]))),256))]))}},le=y(re,[["__scopeId","data-v-46747166"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestList.vue"]]);const ae={class:"layout"},ie={__name:"App",setup(l){const o=E({url:"",type:"all"}),r=N([]),a=U(()=>{let e=[...r.value];return o.type!=="all"&&(e=e.filter(s=>s.type===o.type)),e.filter(s=>s.url.includes(o.url))}),t={onClear(){r.value=[]},onAddListener(){chrome.devtools.network.onRequestFinished.addListener(e=>{e.request.method.toUpperCase()!=="OPTIONS"&&e.getContent(s=>{var k;const x=u.parseHandler(s),g=u.parseHandler(((k=e.request.postData)==null?void 0:k.text)||""),v={};e.request.headers.forEach(w=>{v[w.name]=w.value});const _=u.typeHandler(e),q={url:e.request.url,method:e.request.method,headers:v,payload:g,response:x,type:_};r.value.unshift(q)})})}},u={typeHandler(e){var v;const s=e.request.url.split("?")[0].toLowerCase();if([".png",".jpg",".jpeg",".gif",".webp",".svg",".mp4",".mp3",".wav",".js",".css",".html",".htm",".ico",".woff",".woff2",".ttf",".eot"].some(_=>s.endsWith(_)))return"static";const g=e.request.headers.reduce((_,q)=>(_[q.name.toLowerCase()]=q.value,_),{});return((v=g["content-type"])==null?void 0:v.includes("application/json"))||g["x-requested-with"]==="XMLHttpRequest"||["POST","PUT","PATCH"].includes(e.request.method.toUpperCase()),"xhr"},parseHandler(e){if(!e)return"";try{return JSON.parse(e)}catch{return e}}};return t.onAddListener(),(e,s)=>(p(),m("div",ae,[n(M),n(Q,{filters:o,"onUpdate:filters":s[0]||(s[0]=x=>o=x),onClear:t.onClear},null,8,["filters","onClear"]),n(le,{list:a.value},null,8,["list"])]))}},ue=y(ie,[["__scopeId","data-v-7ba5bd90"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/App.vue"]]);const de=T(ue);de.mount("#app");
