import"./modulepreload-polyfill.c7c6310f.js";import{o as _,c as x,a as d,d as F,b as E,r as w,e as s,w as p,u as i,B as R,I as L,f as h,g as f,v as y,R as b,h as A,i as D,j as O,k as $,t as U,M as j,E as B,F as V,l as H,m as T,n as N,p as S}from"./vendor.7e8de25a.js";const q=(a,n)=>{const o=a.__vccOpts||a;for(const[r,t]of n)o[r]=t;return o},z={},P={class:"layout-brand"};function J(a,n){return _(),x("div",P,[...n[0]||(n[0]=[d("div",{class:"layout-brand-logo"},"R",-1),d("div",{class:"layout-brand-info"},[d("div",{class:"layout-brand-title"},"Request Copy"),d("div",{class:"layout-brand-version"},"v1.0.0")],-1)])])}const M=q(z,[["render",J],["__scopeId","data-v-4ec73b30"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestBrand.vue"]]);const X={class:"request-filters"},G={class:"request-filters-list"},W={class:"request-filters-input"},K=F({__name:"RequestFilters",props:{filters:Object},emits:["update:filters","clear"],setup(a,{emit:n}){const o=a,r=n,t=E({get:()=>o.filters,set:l=>r("update:filters",l)});return(l,e)=>{const u=w("IconDown"),m=w("IconUp");return _(),x("div",X,[d("div",G,[s(i(R),{size:"mini",onClick:e[0]||(e[0]=c=>r("clear"))},{default:p(()=>[...e[3]||(e[3]=[h("\u6E05\u7A7A\u6240\u6709",-1)])]),_:1}),s(i(R),{size:"mini",onClick:l.methods.onToggleExpand},{icon:p(()=>[f(s(u,null,null,512),[[y,!l.state.expand]]),f(s(m,null,null,512),[[y,l.state.expand]])]),_:1},8,["onClick"]),s(i(A),{modelValue:t.value.type,"onUpdate:modelValue":e[1]||(e[1]=c=>t.value.type=c),type:"button",size:"mini"},{default:p(()=>[s(i(b),{value:"all"},{default:p(()=>[...e[4]||(e[4]=[h("All",-1)])]),_:1}),s(i(b),{value:"xhr"},{default:p(()=>[...e[5]||(e[5]=[h("XHR",-1)])]),_:1}),s(i(b),{value:"static"},{default:p(()=>[...e[6]||(e[6]=[h("\u9759\u6001\u8D44\u6E90",-1)])]),_:1})]),_:1},8,["modelValue"])]),d("div",W,[s(i(L),{modelValue:t.value.url,"onUpdate:modelValue":e[2]||(e[2]=c=>t.value.url=c),size:"mini",placeholder:"\u8DEF\u5F84\u8FC7\u6EE4","allow-clear":""},null,8,["modelValue"])])])}}}),Q=q(K,[["__scopeId","data-v-56e8929c"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestFilters.vue"]]);const Y={class:"request-item"},Z={class:"request-item-header"},ee={class:"request-item-url"},te={class:"request-item-body"},se={__name:"RequestItem",props:{item:Object},setup(a){const n=a,o=D({expand:!1}),r={onToggleExpand(){o.expand=!o.expand},onFormatUrl(t){const l=new URL(t);return console.log("_url",l),l.pathname},onCopy(){const t=document.createElement("textarea");t.value=JSON.stringify(n.item,null,2),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),j.success("\u590D\u5236\u6210\u529F")}};return(t,l)=>(_(),x("div",Y,[d("div",Z,[s(i(R),{size:"mini",onClick:r.onToggleExpand},{icon:p(()=>[f(s(i(O),null,null,512),[[y,!o.expand]]),f(s(i($),null,null,512),[[y,o.expand]])]),_:1},8,["onClick"]),d("div",ee,U(r.onFormatUrl(a.item.url)),1),s(i(R),{size:"mini",type:"primary",onClick:r.onCopy},{default:p(()=>[...l[0]||(l[0]=[h("\u590D\u5236",-1)])]),_:1},8,["onClick"])]),f(d("div",te,[d("pre",null,U(JSON.stringify(a.item,null,2)),1)],512),[[y,o.expand]])]))}},ne=q(se,[["__scopeId","data-v-5a7f617c"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestItem.vue"]]);const oe={class:"request-list"},le={__name:"RequestList",props:{list:Object},setup(a){return(n,o)=>(_(),x("div",oe,[f(s(i(B),{class:"request-list-empty"},null,512),[[y,a.list.length===0]]),(_(!0),x(V,null,H(a.list,r=>(_(),T(ne,{item:r},null,8,["item"]))),256))]))}},ae=q(le,[["__scopeId","data-v-46747166"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestList.vue"]]);const re={class:"layout"},ue={__name:"App",setup(a){const n=D({url:"",type:"all"}),o=N([]),r=E(()=>{let e=[...o.value];return n.type!=="all"&&(e=e.filter(u=>u.type===n.type)),e.filter(u=>u.url.includes(n.url))}),t={onClear(){o.value=[]},onAddListener(){chrome.devtools.network.onRequestFinished.addListener(e=>{e.request.method.toUpperCase()!=="OPTIONS"&&e.getContent(u=>{var k;const m=l.parseHandler(u),c=l.parseHandler(((k=e.request.postData)==null?void 0:k.text)||""),g={};e.request.headers.forEach(I=>{g[I.name]=I.value});const v=l.typeHandler(e),C={url:e.request.url,method:e.request.method,headers:g,payload:c,response:m,type:v};o.value.unshift(C)})})}},l={typeHandler(e){var g;const u=e.request.url.split("?")[0].toLowerCase();if([".png",".jpg",".jpeg",".gif",".webp",".svg",".mp4",".mp3",".wav",".js",".css",".html",".htm",".ico",".woff",".woff2",".ttf",".eot"].some(v=>u.endsWith(v)))return"static";const c=e.request.headers.reduce((v,C)=>(v[C.name.toLowerCase()]=C.value,v),{});return((g=c["content-type"])==null?void 0:g.includes("application/json"))||c["x-requested-with"]==="XMLHttpRequest"||["POST","PUT","PATCH"].includes(e.request.method.toUpperCase()),"xhr"},parseHandler(e){if(!e)return"";try{return JSON.parse(e)}catch{return e}}};return t.onAddListener(),(e,u)=>(_(),x("div",re,[s(M),s(Q,{filters:n,"onUpdate:filters":u[0]||(u[0]=m=>n=m),onClear:t.onClear},null,8,["filters","onClear"]),s(ae,{list:r.value},null,8,["list"])]))}},ie=q(ue,[["__scopeId","data-v-7ba5bd90"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/App.vue"]]);const de=S(ie);de.mount("#app");
