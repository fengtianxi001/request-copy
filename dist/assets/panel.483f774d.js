import"./modulepreload-polyfill.c7c6310f.js";import{o as _,c as v,a as d,d as D,b as E,r as F,e as s,w as p,u as i,B as R,I as L,f as y,g as x,v as g,R as b,h as A,i as U,j as O,k as $,t as I,M as j,E as B,F as V,l as H,m as T,n as N,p as S}from"./vendor.7e8de25a.js";const h=(r,n)=>{const o=r.__vccOpts||r;for(const[a,t]of n)o[a]=t;return o},z={},P={class:"layout-brand"};function J(r,n){return _(),v("div",P,[...n[0]||(n[0]=[d("div",{class:"layout-brand-logo"},"R",-1),d("div",{class:"layout-brand-info"},[d("div",{class:"layout-brand-title"},"Request Copy"),d("div",{class:"layout-brand-version"},"v1.0.0")],-1)])])}const M=h(z,[["render",J],["__scopeId","data-v-4ec73b30"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestBrand.vue"]]);const X={class:"request-filters"},G={class:"request-filters-list"},W={class:"request-filters-input"},K=D({__name:"RequestFilters",props:{filters:Object},emits:["update:filters","clear"],setup(r,{emit:n}){const o=r,a=n,t=E({get:()=>o.filters,set:l=>a("update:filters",l)});return(l,e)=>{const u=F("IconDown");return _(),v("div",X,[d("div",G,[s(i(R),{size:"mini",onClick:e[0]||(e[0]=c=>a("clear"))},{default:p(()=>[...e[3]||(e[3]=[y("\u6E05\u7A7A\u6240\u6709",-1)])]),_:1}),s(i(R),{size:"mini",onClick:l.methods.onToggleExpand},{icon:p(()=>[x(s(u,null,null,512),[[g,!l.state.expand]])]),_:1},8,["onClick"]),s(i(A),{modelValue:t.value.type,"onUpdate:modelValue":e[1]||(e[1]=c=>t.value.type=c),type:"button",size:"mini"},{default:p(()=>[s(i(b),{value:"all"},{default:p(()=>[...e[4]||(e[4]=[y("All",-1)])]),_:1}),s(i(b),{value:"xhr"},{default:p(()=>[...e[5]||(e[5]=[y("XHR",-1)])]),_:1}),s(i(b),{value:"static"},{default:p(()=>[...e[6]||(e[6]=[y("\u9759\u6001\u8D44\u6E90",-1)])]),_:1})]),_:1},8,["modelValue"])]),d("div",W,[s(i(L),{modelValue:t.value.url,"onUpdate:modelValue":e[2]||(e[2]=c=>t.value.url=c),size:"mini",placeholder:"\u8DEF\u5F84\u8FC7\u6EE4","allow-clear":""},null,8,["modelValue"])])])}}}),Q=h(K,[["__scopeId","data-v-56e8929c"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestFilters.vue"]]);const Y={class:"request-item"},Z={class:"request-item-header"},ee={class:"request-item-url"},te={class:"request-item-body"},se={__name:"RequestItem",props:{item:Object},setup(r){const n=r,o=U({expand:!1}),a={onToggleExpand(){o.expand=!o.expand},onFormatUrl(t){const l=new URL(t);return console.log("_url",l),l.pathname},onCopy(){const t=document.createElement("textarea");t.value=JSON.stringify(n.item,null,2),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),j.success("\u590D\u5236\u6210\u529F")}};return(t,l)=>(_(),v("div",Y,[d("div",Z,[s(i(R),{size:"mini",onClick:a.onToggleExpand},{icon:p(()=>[x(s(i(O),null,null,512),[[g,!o.expand]]),x(s(i($),null,null,512),[[g,o.expand]])]),_:1},8,["onClick"]),d("div",ee,I(a.onFormatUrl(r.item.url)),1),s(i(R),{size:"mini",type:"primary",onClick:a.onCopy},{default:p(()=>[...l[0]||(l[0]=[y("\u590D\u5236",-1)])]),_:1},8,["onClick"])]),x(d("div",te,[d("pre",null,I(JSON.stringify(r.item,null,2)),1)],512),[[g,o.expand]])]))}},ne=h(se,[["__scopeId","data-v-5a7f617c"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestItem.vue"]]);const oe={class:"request-list"},le={__name:"RequestList",props:{list:Object},setup(r){return(n,o)=>(_(),v("div",oe,[x(s(i(B),{class:"request-list-empty"},null,512),[[g,r.list.length===0]]),(_(!0),v(V,null,H(r.list,a=>(_(),T(ne,{item:a},null,8,["item"]))),256))]))}},re=h(le,[["__scopeId","data-v-46747166"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestList.vue"]]);const ae={class:"layout"},ue={__name:"App",setup(r){const n=U({url:"",type:"all"}),o=N([]),a=E(()=>{let e=[...o.value];return n.type!=="all"&&(e=e.filter(u=>u.type===n.type)),e.filter(u=>u.url.includes(n.url))}),t={onClear(){o.value=[]},onAddListener(){chrome.devtools.network.onRequestFinished.addListener(e=>{e.request.method.toUpperCase()!=="OPTIONS"&&e.getContent(u=>{var k;const c=l.parseHandler(u),q=l.parseHandler(((k=e.request.postData)==null?void 0:k.text)||""),f={};e.request.headers.forEach(w=>{f[w.name]=w.value});const m=l.typeHandler(e),C={url:e.request.url,method:e.request.method,headers:f,payload:q,response:c,type:m};o.value.unshift(C)})})}},l={typeHandler(e){var f;const u=e.request.url.split("?")[0].toLowerCase();if([".png",".jpg",".jpeg",".gif",".webp",".svg",".mp4",".mp3",".wav",".js",".css",".html",".htm",".ico",".woff",".woff2",".ttf",".eot"].some(m=>u.endsWith(m)))return"static";const q=e.request.headers.reduce((m,C)=>(m[C.name.toLowerCase()]=C.value,m),{});return((f=q["content-type"])==null?void 0:f.includes("application/json"))||q["x-requested-with"]==="XMLHttpRequest"||["POST","PUT","PATCH"].includes(e.request.method.toUpperCase()),"xhr"},parseHandler(e){if(!e)return"";try{return JSON.parse(e)}catch{return e}}};return t.onAddListener(),(e,u)=>(_(),v("div",ae,[s(M),s(Q,{filters:n,"onUpdate:filters":u[0]||(u[0]=c=>n=c),onClear:t.onClear},null,8,["filters","onClear"]),s(re,{list:a.value},null,8,["list"])]))}},ie=h(ue,[["__scopeId","data-v-7ba5bd90"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/App.vue"]]);const de=S(ie);de.mount("#app");
