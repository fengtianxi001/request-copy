import"./modulepreload-polyfill.c7c6310f.js";import{o as f,c as y,a as p,d as E,b as N,e as l,w as _,u,B as C,I as B,f as L,g as S,R as w,h as $,r as D,i as h,j,v as q,k as I,t as F,M as V,E as H,F as M,l as T,m as z,n as R,p as J,q as U,s as P,T as X,x as G}from"./vendor.5a735264.js";const x=(e,i)=>{const t=e.__vccOpts||e;for(const[r,a]of i)t[r]=a;return t},W={},K={class:"layout-brand"};function Q(e,i){return f(),y("div",K,[...i[0]||(i[0]=[p("div",{class:"layout-brand-logo"},"R",-1),p("div",{class:"layout-brand-info"},[p("div",{class:"layout-brand-title"},"Request Copy"),p("div",{class:"layout-brand-version"},"v1.0.0")],-1)])])}const Y=x(W,[["render",Q],["__scopeId","data-v-4ec73b30"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestBrand.vue"]]);const Z={class:"request-filters"},ee={class:"request-filters-list"},te={class:"request-filters-input"},se=E({__name:"RequestFilters",props:{filters:Object},emits:["update:filters","clear","setting"],setup(e,{emit:i}){const t=e,r=i,a=N({get:()=>t.filters,set:o=>r("update:filters",o)});return(o,n)=>(f(),y("div",Z,[p("div",ee,[l(u(C),{type:"primary",size:"mini",onClick:n[0]||(n[0]=s=>r("setting"))},{icon:_(()=>[l(u(L))]),_:1}),l(u(C),{type:"primary",status:"danger",size:"mini",onClick:n[1]||(n[1]=s=>r("clear"))},{default:_(()=>[...n[4]||(n[4]=[S(" \u6E05\u7A7A ",-1)])]),_:1}),l(u($),{modelValue:a.value.type,"onUpdate:modelValue":n[2]||(n[2]=s=>a.value.type=s),type:"button",size:"mini"},{default:_(()=>[l(u(w),{value:"all"},{default:_(()=>[...n[5]||(n[5]=[S("All",-1)])]),_:1}),l(u(w),{value:"xhr"},{default:_(()=>[...n[6]||(n[6]=[S("XHR",-1)])]),_:1}),l(u(w),{value:"static"},{default:_(()=>[...n[7]||(n[7]=[S("\u9759\u6001\u8D44\u6E90",-1)])]),_:1})]),_:1},8,["modelValue"])]),p("div",te,[l(u(B),{modelValue:a.value.url,"onUpdate:modelValue":n[3]||(n[3]=s=>a.value.url=s),size:"mini",placeholder:"\u8DEF\u5F84\u8FC7\u6EE4","allow-clear":""},null,8,["modelValue"])])]))}}),ne=x(se,[["__scopeId","data-v-56e8929c"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestFilters.vue"]]);const oe={class:"request-item"},re={class:"request-item-header"},ae={class:"request-item-url"},le={class:"request-item-body"},ie={__name:"RequestItem",props:{item:Object},setup(e){const i=e,t=D({expand:!1}),r={onToggleExpand(){t.expand=!t.expand},onFormatUrl(a){const o=new URL(a);return console.log("_url",o),o.pathname},onCopy(){const a=document.createElement("textarea");a.value=JSON.stringify(i.item,null,2),document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),V.success("\u590D\u5236\u6210\u529F")}};return(a,o)=>(f(),y("div",oe,[p("div",re,[l(u(C),{size:"mini",onClick:r.onToggleExpand},{icon:_(()=>[h(l(u(j),null,null,512),[[q,!t.expand]]),h(l(u(I),null,null,512),[[q,t.expand]])]),_:1},8,["onClick"]),p("div",ae,F(r.onFormatUrl(e.item.url)),1),l(u(C),{size:"mini",type:"primary",onClick:r.onCopy},{default:_(()=>[...o[0]||(o[0]=[S("\u590D\u5236",-1)])]),_:1},8,["onClick"])]),h(p("div",le,[p("pre",null,F(JSON.stringify(e.item,null,2)),1)],512),[[q,t.expand]])]))}},ue=x(ie,[["__scopeId","data-v-5a7f617c"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestItem.vue"]]);const de={class:"request-list"},ce={__name:"RequestList",props:{list:Object},setup(e){return(i,t)=>(f(),y("div",de,[h(l(u(H),{class:"request-list-empty"},null,512),[[q,e.list.length===0]]),(f(!0),y(M,null,T(e.list,r=>(f(),z(ue,{item:r},null,8,["item"]))),256))]))}},pe=x(ce,[["__scopeId","data-v-46747166"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestList.vue"]]),me=e=>e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number",_e={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function fe(e,i,t){var v;const r=window.localStorage,a=me(i),o=_e[a],s=R((v=(()=>{const c=r.getItem(e);return c?U(t==null?void 0:t.deserializer)?t.deserializer(c):o.read(c):null})())!=null?v:i),d=c=>{let m;U(t==null?void 0:t.serializer)?m=t.serializer(c):m=o.write(c),r.setItem(e,m)};return J(s,()=>{d(s.value)},{immediate:!0,deep:!0}),s}const A=fe("app-settings",{headers:"Accept,Accept-Encoding,Accept-Language,Connection,Host,Origin,Referer,Sec-Fetch-Dest,Sec-Fetch-Mode,Sec-Fetch-Site,User-Agent,sec-ch-ua,sec-ch-ua-mobile,sec-ch-ua-platform"}),ve=E({__name:"RequestSettingModal",setup(e,{expose:i}){const t=R(!1),r={onOpen(){t.value=!0},onClose(){t.value=!1},onSubmit(){}};return i({onOpen:r.onOpen,onClose:r.onClose}),(a,o)=>(f(),z(u(P),{width:300,visible:t.value,"onUpdate:visible":o[1]||(o[1]=n=>t.value=n),title:"\u8BBE\u7F6E","body-style":"padding:10px","on-before-ok":a.onSubmit},{default:_(()=>[o[2]||(o[2]=p("div",{style:{color:"#005af9","margin-bottom":"5px"}}," \u590D\u5236\u65F6\u9700\u8981\u6392\u9664\u7684Header\u5B57\u6BB5 ",-1)),l(u(X),{style:{height:"300px"},size:"small",modelValue:u(A).headers,"onUpdate:modelValue":o[0]||(o[0]=n=>u(A).headers=n)},null,8,["modelValue"])]),_:1},8,["visible","on-before-ok"]))}}),ge=x(ve,[["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestSettingModal.vue"]]);const ye={class:"layout"},xe={__name:"App",setup(e){const i=R(null),t=D({url:"",type:"all"}),r=R([]),a=N(()=>{let s=[...r.value];return t.type!=="all"&&(s=s.filter(d=>d.type===t.type)),s.filter(d=>d.url.includes(t.url))}),o={onClear(){r.value=[]},onAddListener(){chrome.devtools.network.onRequestFinished.addListener(s=>{s.request.method.toUpperCase()!=="OPTIONS"&&s.getContent(d=>{var O;const v=n.parseHandler(d),c=n.parseHandler(((O=s.request.postData)==null?void 0:O.text)||""),m={};s.request.headers.forEach(k=>{m[k.name]=k.value});const g=n.typeHandler(s),b={url:s.request.url,method:s.request.method,headers:m,payload:c,response:v,type:g};r.value.unshift(b)})})},onSetting(){console.log("modal",i.value.onOpen())}},n={typeHandler(s){var m;const d=s.request.url.split("?")[0].toLowerCase();if([".png",".jpg",".jpeg",".gif",".webp",".svg",".mp4",".mp3",".wav",".js",".css",".html",".htm",".ico",".woff",".woff2",".ttf",".eot"].some(g=>d.endsWith(g)))return"static";const c=s.request.headers.reduce((g,b)=>(g[b.name.toLowerCase()]=b.value,g),{});return((m=c["content-type"])==null?void 0:m.includes("application/json"))||c["x-requested-with"]==="XMLHttpRequest"||["POST","PUT","PATCH"].includes(s.request.method.toUpperCase()),"xhr"},parseHandler(s){if(!s)return"";try{return JSON.parse(s)}catch{return s}}};return o.onAddListener(),(s,d)=>(f(),y("div",ye,[l(Y),l(ne,{filters:t,"onUpdate:filters":d[0]||(d[0]=v=>t=v),onClear:o.onClear,onSetting:o.onSetting},null,8,["filters","onClear","onSetting"]),l(pe,{list:a.value},null,8,["list"]),l(ge,{ref_key:"modal",ref:i},null,512)]))}},Se=x(xe,[["__scopeId","data-v-7ba5bd90"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/App.vue"]]);const be=G(Se);be.mount("#app");
