import"./modulepreload-polyfill.c7c6310f.js";import{o as f,c as y,a as p,d as A,b as E,e as l,w as _,u,B as R,I as z,f as B,g as S,R as w,h as L,r as N,i as q,j,v as C,k as $,t as F,M as I,E as V,F as H,l as M,m as D,n as b,p as T,q as U,s as J,T as P,x as X}from"./vendor.5a735264.js";const x=(e,i)=>{const s=e.__vccOpts||e;for(const[r,o]of i)s[r]=o;return s},G={},W={class:"layout-brand"};function K(e,i){return f(),y("div",W,[...i[0]||(i[0]=[p("div",{class:"layout-brand-logo"},"R",-1),p("div",{class:"layout-brand-info"},[p("div",{class:"layout-brand-title"},"Request Copy"),p("div",{class:"layout-brand-version"},"v1.0.0")],-1)])])}const Q=x(G,[["render",K],["__scopeId","data-v-4ec73b30"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestBrand.vue"]]);const Y={class:"request-filters"},Z={class:"request-filters-list"},ee={class:"request-filters-input"},te=A({__name:"RequestFilters",props:{filters:Object},emits:["update:filters","clear","setting"],setup(e,{emit:i}){const s=e,r=i,o=E({get:()=>s.filters,set:a=>r("update:filters",a)});return(a,n)=>(f(),y("div",Y,[p("div",Z,[l(u(R),{type:"primary",size:"mini",onClick:n[0]||(n[0]=t=>r("setting"))},{icon:_(()=>[l(u(B))]),_:1}),l(u(R),{type:"primary",status:"danger",size:"mini",onClick:n[1]||(n[1]=t=>r("clear"))},{default:_(()=>[...n[4]||(n[4]=[S(" \u6E05\u7A7A ",-1)])]),_:1}),l(u(L),{modelValue:o.value.type,"onUpdate:modelValue":n[2]||(n[2]=t=>o.value.type=t),type:"button",size:"mini"},{default:_(()=>[l(u(w),{value:"all"},{default:_(()=>[...n[5]||(n[5]=[S("All",-1)])]),_:1}),l(u(w),{value:"xhr"},{default:_(()=>[...n[6]||(n[6]=[S("XHR",-1)])]),_:1}),l(u(w),{value:"static"},{default:_(()=>[...n[7]||(n[7]=[S("\u9759\u6001\u8D44\u6E90",-1)])]),_:1})]),_:1},8,["modelValue"])]),p("div",ee,[l(u(z),{modelValue:o.value.url,"onUpdate:modelValue":n[3]||(n[3]=t=>o.value.url=t),size:"mini",placeholder:"\u8DEF\u5F84\u8FC7\u6EE4","allow-clear":""},null,8,["modelValue"])])]))}}),se=x(te,[["__scopeId","data-v-56e8929c"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestFilters.vue"]]);const ne={class:"request-item"},re={class:"request-item-header"},oe={class:"request-item-url"},ae={class:"request-item-body"},le={__name:"RequestItem",props:{item:Object},setup(e){const i=e,s=N({expand:!1}),r={onToggleExpand(){s.expand=!s.expand},onFormatUrl(o){const a=new URL(o);return console.log("_url",a),a.pathname},onCopy(){const o=document.createElement("textarea");o.value=JSON.stringify(i.item,null,2),document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),I.success("\u590D\u5236\u6210\u529F")}};return(o,a)=>(f(),y("div",ne,[p("div",re,[l(u(R),{size:"mini",onClick:r.onToggleExpand},{icon:_(()=>[q(l(u(j),null,null,512),[[C,!s.expand]]),q(l(u($),null,null,512),[[C,s.expand]])]),_:1},8,["onClick"]),p("div",oe,F(r.onFormatUrl(e.item.url)),1),l(u(R),{size:"mini",type:"primary",onClick:r.onCopy},{default:_(()=>[...a[0]||(a[0]=[S("\u590D\u5236",-1)])]),_:1},8,["onClick"])]),q(p("div",ae,[p("pre",null,F(JSON.stringify(e.item,null,2)),1)],512),[[C,s.expand]])]))}},ie=x(le,[["__scopeId","data-v-5a7f617c"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestItem.vue"]]);const ue={class:"request-list"},de={__name:"RequestList",props:{list:Object},setup(e){return(i,s)=>(f(),y("div",ue,[q(l(u(V),{class:"request-list-empty"},null,512),[[C,e.list.length===0]]),(f(!0),y(H,null,M(e.list,r=>(f(),D(ie,{item:r},null,8,["item"]))),256))]))}},ce=x(de,[["__scopeId","data-v-46747166"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestList.vue"]]),pe=e=>e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number",me={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function _e(e,i,s){var v;const r=window.localStorage,o=pe(i),a=me[o],t=b((v=(()=>{const c=r.getItem(e);return c?U(s==null?void 0:s.deserializer)?s.deserializer(c):a.read(c):null})())!=null?v:i),d=c=>{let m;U(s==null?void 0:s.serializer)?m=s.serializer(c):m=a.write(c),r.setItem(e,m)};return T(t,()=>{d(t.value)},{immediate:!0,deep:!0}),t}const fe=_e("app-settings",{headers:"Accept,Accept-Encoding,Accept-Language,Connection,Host,Origin,Referer,Sec-Fetch-Dest,Sec-Fetch-Mode,Sec-Fetch-Site,User-Agent,sec-ch-ua,sec-ch-ua-mobile,sec-ch-ua-platform"}),ve=A({__name:"RequestSettingModal",setup(e,{expose:i}){const s=b(!1),r=b(""),o={onOpen(){s.value=!0,r.value=fe.value.headers},onClose(){s.value=!1},onSubmit(){r.value.split(",").map(n=>n.trim()).join(",")}};return i({onOpen:o.onOpen,onClose:o.onClose}),(a,n)=>(f(),D(u(J),{width:300,visible:s.value,"onUpdate:visible":n[1]||(n[1]=t=>s.value=t),title:"\u8BBE\u7F6E","body-style":"padding:10px","on-before-ok":a.onSubmit},{default:_(()=>[n[2]||(n[2]=p("div",{style:{color:"#005af9","margin-bottom":"5px"}}," \u590D\u5236\u65F6\u9700\u8981\u6392\u9664\u7684Header\u5B57\u6BB5 ",-1)),l(u(P),{style:{height:"300px"},size:"small",modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=t=>r.value=t)},null,8,["modelValue"])]),_:1},8,["visible","on-before-ok"]))}}),ge=x(ve,[["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestSettingModal.vue"]]);const ye={class:"layout"},xe={__name:"App",setup(e){const i=b(null),s=N({url:"",type:"all"}),r=b([]),o=E(()=>{let t=[...r.value];return s.type!=="all"&&(t=t.filter(d=>d.type===s.type)),t.filter(d=>d.url.includes(s.url))}),a={onClear(){r.value=[]},onAddListener(){chrome.devtools.network.onRequestFinished.addListener(t=>{t.request.method.toUpperCase()!=="OPTIONS"&&t.getContent(d=>{var O;const v=n.parseHandler(d),c=n.parseHandler(((O=t.request.postData)==null?void 0:O.text)||""),m={};t.request.headers.forEach(k=>{m[k.name]=k.value});const g=n.typeHandler(t),h={url:t.request.url,method:t.request.method,headers:m,payload:c,response:v,type:g};r.value.unshift(h)})})},onSetting(){console.log("modal",i.value.onOpen())}},n={typeHandler(t){var m;const d=t.request.url.split("?")[0].toLowerCase();if([".png",".jpg",".jpeg",".gif",".webp",".svg",".mp4",".mp3",".wav",".js",".css",".html",".htm",".ico",".woff",".woff2",".ttf",".eot"].some(g=>d.endsWith(g)))return"static";const c=t.request.headers.reduce((g,h)=>(g[h.name.toLowerCase()]=h.value,g),{});return((m=c["content-type"])==null?void 0:m.includes("application/json"))||c["x-requested-with"]==="XMLHttpRequest"||["POST","PUT","PATCH"].includes(t.request.method.toUpperCase()),"xhr"},parseHandler(t){if(!t)return"";try{return JSON.parse(t)}catch{return t}}};return a.onAddListener(),(t,d)=>(f(),y("div",ye,[l(Q),l(se,{filters:s,"onUpdate:filters":d[0]||(d[0]=v=>s=v),onClear:a.onClear,onSetting:a.onSetting},null,8,["filters","onClear","onSetting"]),l(ce,{list:o.value},null,8,["list"]),l(ge,{ref_key:"modal",ref:i},null,512)]))}},Se=x(xe,[["__scopeId","data-v-7ba5bd90"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/App.vue"]]);const be=X(Se);be.mount("#app");
