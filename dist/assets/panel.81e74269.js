import"./modulepreload-polyfill.c7c6310f.js";import{o as f,c as y,a as p,d as E,b as N,e as a,w as _,u,B as R,I as z,f as B,g as S,R as w,h as L,r as D,i as q,j as $,v as C,k as I,t as F,M as V,E as H,F as M,l as T,m as j,n as b,p as J,q as U,s as P,T as X,x as G}from"./vendor.5a735264.js";const x=(e,l)=>{const s=e.__vccOpts||e;for(const[r,o]of l)s[r]=o;return s},W={},K={class:"layout-brand"};function Q(e,l){return f(),y("div",K,[...l[0]||(l[0]=[p("div",{class:"layout-brand-logo"},"R",-1),p("div",{class:"layout-brand-info"},[p("div",{class:"layout-brand-title"},"Request Copy"),p("div",{class:"layout-brand-version"},"v1.0.0")],-1)])])}const Y=x(W,[["render",Q],["__scopeId","data-v-4ec73b30"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestBrand.vue"]]);const Z={class:"request-filters"},ee={class:"request-filters-list"},te={class:"request-filters-input"},se=E({__name:"RequestFilters",props:{filters:Object},emits:["update:filters","clear","setting"],setup(e,{emit:l}){const s=e,r=l,o=N({get:()=>s.filters,set:i=>r("update:filters",i)});return(i,n)=>(f(),y("div",Z,[p("div",ee,[a(u(R),{type:"primary",size:"mini",onClick:n[0]||(n[0]=t=>r("setting"))},{icon:_(()=>[a(u(B))]),_:1}),a(u(R),{type:"primary",status:"danger",size:"mini",onClick:n[1]||(n[1]=t=>r("clear"))},{default:_(()=>[...n[4]||(n[4]=[S(" \u6E05\u7A7A ",-1)])]),_:1}),a(u(L),{modelValue:o.value.type,"onUpdate:modelValue":n[2]||(n[2]=t=>o.value.type=t),type:"button",size:"mini"},{default:_(()=>[a(u(w),{value:"all"},{default:_(()=>[...n[5]||(n[5]=[S("All",-1)])]),_:1}),a(u(w),{value:"xhr"},{default:_(()=>[...n[6]||(n[6]=[S("XHR",-1)])]),_:1}),a(u(w),{value:"static"},{default:_(()=>[...n[7]||(n[7]=[S("\u9759\u6001\u8D44\u6E90",-1)])]),_:1})]),_:1},8,["modelValue"])]),p("div",te,[a(u(z),{modelValue:o.value.url,"onUpdate:modelValue":n[3]||(n[3]=t=>o.value.url=t),size:"mini",placeholder:"\u8DEF\u5F84\u8FC7\u6EE4","allow-clear":""},null,8,["modelValue"])])]))}}),ne=x(se,[["__scopeId","data-v-56e8929c"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestFilters.vue"]]);const re={class:"request-item"},oe={class:"request-item-header"},ae={class:"request-item-url"},le={class:"request-item-body"},ie={__name:"RequestItem",props:{item:Object},setup(e){const l=e,s=D({expand:!1}),r={onToggleExpand(){s.expand=!s.expand},onFormatUrl(o){const i=new URL(o);return console.log("_url",i),i.pathname},onCopy(){const o=document.createElement("textarea");o.value=JSON.stringify(l.item,null,2),document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),V.success("\u590D\u5236\u6210\u529F")}};return(o,i)=>(f(),y("div",re,[p("div",oe,[a(u(R),{size:"mini",onClick:r.onToggleExpand},{icon:_(()=>[q(a(u($),null,null,512),[[C,!s.expand]]),q(a(u(I),null,null,512),[[C,s.expand]])]),_:1},8,["onClick"]),p("div",ae,F(r.onFormatUrl(e.item.url)),1),a(u(R),{size:"mini",type:"primary",onClick:r.onCopy},{default:_(()=>[...i[0]||(i[0]=[S("\u590D\u5236",-1)])]),_:1},8,["onClick"])]),q(p("div",le,[p("pre",null,F(JSON.stringify(e.item,null,2)),1)],512),[[C,s.expand]])]))}},ue=x(ie,[["__scopeId","data-v-5a7f617c"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestItem.vue"]]);const de={class:"request-list"},ce={__name:"RequestList",props:{list:Object},setup(e){return(l,s)=>(f(),y("div",de,[q(a(u(H),{class:"request-list-empty"},null,512),[[C,e.list.length===0]]),(f(!0),y(M,null,T(e.list,r=>(f(),j(ue,{item:r},null,8,["item"]))),256))]))}},pe=x(ce,[["__scopeId","data-v-46747166"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestList.vue"]]),me=e=>e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number",_e={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function fe(e,l,s){var v;const r=window.localStorage,o=me(l),i=_e[o],t=b((v=(()=>{const c=r.getItem(e);return c?U(s==null?void 0:s.deserializer)?s.deserializer(c):i.read(c):null})())!=null?v:l),d=c=>{let m;U(s==null?void 0:s.serializer)?m=s.serializer(c):m=i.write(c),r.setItem(e,m)};return J(t,()=>{d(t.value)},{immediate:!0,deep:!0}),t}const A=fe("app-settings",{headers:"Accept,Accept-Encoding,Accept-Language,Connection,Host,Origin,Referer,Sec-Fetch-Dest,Sec-Fetch-Mode,Sec-Fetch-Site,User-Agent,sec-ch-ua,sec-ch-ua-mobile,sec-ch-ua-platform"}),ve=E({__name:"RequestSettingModal",setup(e,{expose:l}){const s=b(!1),r=b(""),o={onOpen(){s.value=!0,r.value=A.value.headers.split(",").join(`
`)},onClose(){s.value=!1},onSubmit(){const n=r.value.split(`
`).map(t=>t.trim()).join(",");return A.value.headers=n,!0}};return l({onOpen:o.onOpen,onClose:o.onClose}),(i,n)=>(f(),j(u(P),{width:300,visible:s.value,"onUpdate:visible":n[1]||(n[1]=t=>s.value=t),title:"\u8BBE\u7F6E","body-style":"padding:10px","on-before-ok":o.onSubmit},{default:_(()=>[n[2]||(n[2]=p("div",{style:{color:"#005af9","margin-bottom":"5px"}}," \u590D\u5236\u65F6\u9700\u8981\u6392\u9664\u7684Header\u5B57\u6BB5 ",-1)),a(u(X),{style:{height:"300px"},size:"small",modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=t=>r.value=t)},null,8,["modelValue"])]),_:1},8,["visible","on-before-ok"]))}}),ge=x(ve,[["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestSettingModal.vue"]]);const ye={class:"layout"},xe={__name:"App",setup(e){const l=b(null),s=D({url:"",type:"all"}),r=b([]),o=N(()=>{let t=[...r.value];return s.type!=="all"&&(t=t.filter(d=>d.type===s.type)),t.filter(d=>d.url.includes(s.url))}),i={onClear(){r.value=[]},onAddListener(){chrome.devtools.network.onRequestFinished.addListener(t=>{t.request.method.toUpperCase()!=="OPTIONS"&&t.getContent(d=>{var O;const v=n.parseHandler(d),c=n.parseHandler(((O=t.request.postData)==null?void 0:O.text)||""),m={};t.request.headers.forEach(k=>{m[k.name]=k.value});const g=n.typeHandler(t),h={url:t.request.url,method:t.request.method,headers:m,payload:c,response:v,type:g};r.value.unshift(h)})})},onSetting(){console.log("modal",l.value.onOpen())}},n={typeHandler(t){var m;const d=t.request.url.split("?")[0].toLowerCase();if([".png",".jpg",".jpeg",".gif",".webp",".svg",".mp4",".mp3",".wav",".js",".css",".html",".htm",".ico",".woff",".woff2",".ttf",".eot"].some(g=>d.endsWith(g)))return"static";const c=t.request.headers.reduce((g,h)=>(g[h.name.toLowerCase()]=h.value,g),{});return((m=c["content-type"])==null?void 0:m.includes("application/json"))||c["x-requested-with"]==="XMLHttpRequest"||["POST","PUT","PATCH"].includes(t.request.method.toUpperCase()),"xhr"},parseHandler(t){if(!t)return"";try{return JSON.parse(t)}catch{return t}}};return i.onAddListener(),(t,d)=>(f(),y("div",ye,[a(Y),a(ne,{filters:s,"onUpdate:filters":d[0]||(d[0]=v=>s=v),onClear:i.onClear,onSetting:i.onSetting},null,8,["filters","onClear","onSetting"]),a(pe,{list:o.value},null,8,["list"]),a(ge,{ref_key:"modal",ref:l},null,512)]))}},Se=x(xe,[["__scopeId","data-v-7ba5bd90"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/App.vue"]]);const be=G(Se);be.mount("#app");
