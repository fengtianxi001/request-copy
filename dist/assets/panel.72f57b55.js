import"./modulepreload-polyfill.c7c6310f.js";import{r as h,w as z,i as U,o as f,c as y,a as p,d as E,b as N,e as a,f as _,u,B as w,I as B,g as $,h as b,R as O,j as I,k as D,l as C,m as V,v as R,n as H,t as A,M,E as T,F as J,p as P,q as L,s as X,T as G,x as W}from"./vendor.bdb49cab.js";const K=e=>e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number",Q={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function Y(e,l,s){var v;const r=window.localStorage,o=K(l),i=Q[o],t=h((v=(()=>{const c=r.getItem(e);return c?U(s==null?void 0:s.deserializer)?s.deserializer(c):i.read(c):null})())!=null?v:l),d=c=>{let m;U(s==null?void 0:s.serializer)?m=s.serializer(c):m=i.write(c),r.setItem(e,m)};return z(t,()=>{d(t.value)},{immediate:!0,deep:!0}),t}const k=Y("app-settings",{headers:"Accept,Accept-Encoding,Accept-Language,Connection,Host,Origin,Referer,Sec-Fetch-Dest,Sec-Fetch-Mode,Sec-Fetch-Site,User-Agent,sec-ch-ua,sec-ch-ua-mobile,sec-ch-ua-platform"});const x=(e,l)=>{const s=e.__vccOpts||e;for(const[r,o]of l)s[r]=o;return s},Z={},ee={class:"layout-brand"};function te(e,l){return f(),y("div",ee,[...l[0]||(l[0]=[p("div",{class:"layout-brand-logo"},"R",-1),p("div",{class:"layout-brand-info"},[p("div",{class:"layout-brand-title"},"Request Copy"),p("div",{class:"layout-brand-version"},"v1.0.0")],-1)])])}const se=x(Z,[["render",te],["__scopeId","data-v-4ec73b30"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestBrand.vue"]]);const ne={class:"request-filters"},re={class:"request-filters-list"},oe={class:"request-filters-input"},ae=E({__name:"RequestFilters",props:{filters:Object},emits:["update:filters","clear","setting"],setup(e,{emit:l}){const s=e,r=l,o=N({get:()=>s.filters,set:i=>r("update:filters",i)});return(i,n)=>(f(),y("div",ne,[p("div",re,[a(u(w),{type:"primary",size:"mini",onClick:n[0]||(n[0]=t=>r("setting"))},{icon:_(()=>[a(u($))]),_:1}),a(u(w),{type:"primary",status:"danger",size:"mini",onClick:n[1]||(n[1]=t=>r("clear"))},{default:_(()=>[...n[4]||(n[4]=[b(" \u6E05\u7A7A ",-1)])]),_:1}),a(u(I),{modelValue:o.value.type,"onUpdate:modelValue":n[2]||(n[2]=t=>o.value.type=t),type:"button",size:"mini"},{default:_(()=>[a(u(O),{value:"all"},{default:_(()=>[...n[5]||(n[5]=[b("All",-1)])]),_:1}),a(u(O),{value:"xhr"},{default:_(()=>[...n[6]||(n[6]=[b("XHR",-1)])]),_:1}),a(u(O),{value:"static"},{default:_(()=>[...n[7]||(n[7]=[b("\u9759\u6001\u8D44\u6E90",-1)])]),_:1})]),_:1},8,["modelValue"])]),p("div",oe,[a(u(B),{modelValue:o.value.url,"onUpdate:modelValue":n[3]||(n[3]=t=>o.value.url=t),size:"mini",placeholder:"\u8DEF\u5F84\u8FC7\u6EE4","allow-clear":""},null,8,["modelValue"])])]))}}),le=x(ae,[["__scopeId","data-v-56e8929c"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestFilters.vue"]]);const ie={class:"request-item"},ue={class:"request-item-header"},de={class:"request-item-url"},ce={class:"request-item-body"},pe={__name:"RequestItem",props:{item:Object},setup(e){const l=e,s=D({expand:!1}),r={onToggleExpand(){s.expand=!s.expand},onFormatUrl(o){const i=new URL(o);return console.log("_url",i),i.pathname},onCopy(){const o=document.createElement("textarea");o.value=JSON.stringify(l.item,null,2),document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),M.success("\u590D\u5236\u6210\u529F")}};return(o,i)=>(f(),y("div",ie,[p("div",ue,[a(u(w),{size:"mini",onClick:r.onToggleExpand},{icon:_(()=>[C(a(u(V),null,null,512),[[R,!s.expand]]),C(a(u(H),null,null,512),[[R,s.expand]])]),_:1},8,["onClick"]),p("div",de,A(r.onFormatUrl(e.item.url)),1),a(u(w),{size:"mini",type:"primary",onClick:r.onCopy},{default:_(()=>[...i[0]||(i[0]=[b("\u590D\u5236",-1)])]),_:1},8,["onClick"])]),C(p("div",ce,[p("pre",null,A(JSON.stringify(e.item,null,2)),1)],512),[[R,s.expand]])]))}},me=x(pe,[["__scopeId","data-v-5a7f617c"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestItem.vue"]]);const _e={class:"request-list"},fe={__name:"RequestList",props:{list:Object},setup(e){return(l,s)=>(f(),y("div",_e,[C(a(u(T),{class:"request-list-empty"},null,512),[[R,e.list.length===0]]),(f(!0),y(J,null,P(e.list,r=>(f(),L(me,{item:r},null,8,["item"]))),256))]))}},ve=x(fe,[["__scopeId","data-v-46747166"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestList.vue"]]),ge=E({__name:"RequestSettingModal",setup(e,{expose:l}){const s=h(!1),r=h(""),o={onOpen(){s.value=!0,r.value=k.value.headers.split(",").join(`
`)},onClose(){s.value=!1},onSubmit(){const n=r.value.split(`
`).map(t=>t.trim()).join(",");return k.value.headers=n,!0}};return l({onOpen:o.onOpen,onClose:o.onClose}),(i,n)=>(f(),L(u(X),{width:300,visible:s.value,"onUpdate:visible":n[1]||(n[1]=t=>s.value=t),title:"\u8BBE\u7F6E","body-style":"padding:10px","on-before-ok":o.onSubmit},{default:_(()=>[n[2]||(n[2]=p("div",{style:{color:"#005af9","margin-bottom":"5px"}}," \u590D\u5236\u65F6\u9700\u8981\u6392\u9664\u7684Header\u5B57\u6BB5 ",-1)),a(u(G),{style:{height:"300px"},size:"small",modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=t=>r.value=t)},null,8,["modelValue"])]),_:1},8,["visible","on-before-ok"]))}}),ye=x(ge,[["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/components/RequestSettingModal.vue"]]);const xe={class:"layout"},Se={__name:"App",setup(e){const l=h(null),s=D({url:"",type:"all"}),r=h([]),o=N(()=>{let t=[...r.value];return s.type!=="all"&&(t=t.filter(d=>d.type===s.type)),t.filter(d=>d.url.includes(s.url))}),i={onClear(){r.value=[]},onAddListener(){chrome.devtools.network.onRequestFinished.addListener(t=>{t.request.method.toUpperCase()!=="OPTIONS"&&t.getContent(d=>{var F;const v=n.parseHandler(d),c=n.parseHandler(((F=t.request.postData)==null?void 0:F.text)||""),m={},g=k.value.headers.split(",").map(S=>S.trim().toLowerCase());t.request.headers.forEach(S=>{g.includes(S.name.toLowerCase())||(m[S.name]=S.value)});const q=n.typeHandler(t),j={url:t.request.url,method:t.request.method,headers:m,payload:c,response:v,type:q};r.value.unshift(j)})})},onSetting(){console.log("modal",l.value.onOpen())}},n={typeHandler(t){var m;const d=t.request.url.split("?")[0].toLowerCase();if([".png",".jpg",".jpeg",".gif",".webp",".svg",".mp4",".mp3",".wav",".js",".css",".html",".htm",".ico",".woff",".woff2",".ttf",".eot"].some(g=>d.endsWith(g)))return"static";const c=t.request.headers.reduce((g,q)=>(g[q.name.toLowerCase()]=q.value,g),{});return((m=c["content-type"])==null?void 0:m.includes("application/json"))||c["x-requested-with"]==="XMLHttpRequest"||["POST","PUT","PATCH"].includes(t.request.method.toUpperCase()),"xhr"},parseHandler(t){if(!t)return"";try{return JSON.parse(t)}catch{return t}}};return i.onAddListener(),(t,d)=>(f(),y("div",xe,[a(se),a(le,{filters:s,"onUpdate:filters":d[0]||(d[0]=v=>s=v),onClear:i.onClear,onSetting:i.onSetting},null,8,["filters","onClear","onSetting"]),a(ve,{list:o.value},null,8,["list"]),a(ye,{ref_key:"modal",ref:l},null,512)]))}},be=x(Se,[["__scopeId","data-v-7ba5bd90"],["__file","/Users/fengtianxi001/Desktop/crx-devtools/src/App.vue"]]);const he=W(be);he.mount("#app");
